<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Zoombie Animation - Tải ảnh, thêm nhạc nền </title>
    <script src="./phaser/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">
// Dựng 1 khung Game trống
// Chiều ngang 800px - Chiều dài 600px
// Phaser.AUTO tự động lựa chọn công nghệ dựng hình phù hợp với browser
// '' là 1 string - chuỗi ứng với tên HTML tag, nếu để rỗng sẽ tự tạo trong <body>
// gán các functions ở dưới để thực hiện từng bước để chạy game
var game = new Phaser.Game(1200, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

// Các biến sẽ sử dụng
var bg;
var bgmusic;
var zombie1;
// Tải các assets sẽ sử dụng trước khi game chạy - image, spritesheet, audio
function preload() {
    game.load.image('bg', 'assets/images/bg.jpg');
    // 50x78 là size của 1 frame, trong spritesheet có 10 frames
    game.load.spritesheet('zombie', 'assets/images/zombie-walk-500x78.png', 50, 78);
    // tải audio
    game.load.audio('bgmusic', 'assets/sounds/zombie-voice.mp3');
}
// Tạo nên các assets trong game - chạy sau khi hoàn thành preload()
function create() {
    game.physics.startSystem(Phaser.Physics.ARCADE);

    // Cách 1 thủ công load lần lượt các hình - zombie đi từ phải sang trái 
    bg = game.add.sprite(0, 0, 'bg');
    bg.scale.set(2);
    // Gán nhạc nền
    bgmusic = game.add.sound('bgmusic');
    bgmusic.volume = 0.5;
    bgmusic.loop = true;
    bgmusic.play();
    // Tạo zombie tĩnh tại x = 1500, y = 500
    zombie1 = game.add.sprite(1150, 500, 'zombie');
    

    
    
}
// Được gọi nhiều lần trên giây để cập nhật trạng thái của game - các hành động hay tương tác động sẽ xảy ra ở hàm này
function update() {
}

</script>

</body>
</html>